# genRTL AI UI åŠŸèƒ½å®ç°å®ŒæˆæŒ‡å—

## ğŸ‰ åŠŸèƒ½å·²å®Œæˆï¼

æŒ‰ç…§ä½ çš„éœ€æ±‚ï¼Œå·²åœ¨**æ­£ç¡®çš„æ–‡ä»¶**ä¸­å®ç°äº†æ‰€æœ‰UIåŠŸèƒ½ï¼š

### âœ… å®ç°çš„åŠŸèƒ½

#### 1. å¤šæ ‡ç­¾é¡µ (ChatTabBar)
- **æ˜¾ç¤ºå½“å‰ä»»åŠ¡**ï¼šè‡ªåŠ¨ä»ä»»åŠ¡æ–‡æœ¬æå–æ ‡é¢˜
- **æ˜¾ç¤ºå†å²ä»»åŠ¡**ï¼šæœ€è¿‘4ä¸ªä»»åŠ¡ä½œä¸ºæ ‡ç­¾
- **åˆ‡æ¢ä»»åŠ¡**ï¼šç‚¹å‡»æ ‡ç­¾åˆ‡æ¢åˆ°å¯¹åº”ä»»åŠ¡
- **å…³é—­æ ‡ç­¾**ï¼šç‚¹å‡»å½“å‰æ ‡ç­¾çš„XæŒ‰é’®ï¼ˆä¼šåˆ›å»ºæ–°ä»»åŠ¡ï¼‰
- **æ–°å»ºä»»åŠ¡**ï¼šç‚¹å‡»"+"æŒ‰é’®

#### 2. å†å²ä¸‹æ‹‰èœå• (HistoryDropdown)
- **æœ€è¿‘10æ¡è®°å½•**ï¼šå¿«é€Ÿè®¿é—®æœ€è¿‘å¯¹è¯
- **æ—¶é—´æ˜¾ç¤º**ï¼š"5m ago", "2h ago", "3d ago"ç­‰
- **æ”¶è—çŠ¶æ€**ï¼šæ˜¾ç¤ºæ˜Ÿæ ‡
- **æ¨¡å‹æ ‡è®°**ï¼šæ˜¾ç¤ºä½¿ç”¨çš„AIæ¨¡å‹
- **å®Œæ•´å†å²**ï¼š"View All History"æŒ‰é’®è·³è½¬

#### 3. Header Bar
- **æ ‡é¢˜æ˜¾ç¤º**ï¼š"genRTL AI"
- **å†å²æŒ‰é’®**ï¼šé›†æˆHistoryDropdown

### ğŸ“‹ ç«‹å³æ‰§è¡Œ

```powershell
# Step 1: æ¸…ç†å¹¶é‡æ–°æ„å»º
cd D:\xroting\avlog\genRTL\cline\webview-ui
rm -rf build
npm run build

# Step 2: å¤åˆ¶åˆ°VSCodeæ‰©å±•ç›®å½•
cd ../..
powershell -ExecutionPolicy ByPass -File .\dev\build-stepwise.ps1

# Step 3: å®Œå…¨é‡å¯VSCode
# - å…³é—­æ‰€æœ‰VSCodeçª—å£
# - é‡æ–°æ‰“å¼€

# Step 4: æ‰“å¼€genRTL AI
# åº”è¯¥èƒ½çœ‹åˆ°æ–°çš„UIç•Œé¢
```

### ğŸ¨ é¢„æœŸæ•ˆæœ

å¯åŠ¨åä½ åº”è¯¥çœ‹åˆ°ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  genRTL AI                         [ğŸ• History]â”‚  â† Header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [+]                                           â”‚  â† Tab Bar (åˆå§‹åªæœ‰+æŒ‰é’®)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  ğŸ’¬ Welcome to genRTL AI                       â”‚
â”‚  Start by describing what you want to build... â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

å½“ä½ å¼€å§‹å¯¹è¯åï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  genRTL AI                         [ğŸ• History]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â— UIä¼˜åŒ–ä»»åŠ¡] [Bugä¿®å¤] [+]                  â”‚  â† å¤šä¸ªæ ‡ç­¾
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  User: å¸®æˆ‘ä¼˜åŒ–UIç•Œé¢                          â”‚
â”‚  Assistant: å¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ ...                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ç‚¹å‡»HistoryæŒ‰é’®åï¼š

```
                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                           â”‚ Recent Conversationsâ”‚
                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                           â”‚ 5m ago         â˜…    â”‚
                           â”‚ UIä¼˜åŒ–ä»»åŠ¡          â”‚
                           â”‚ claude-sonnet-4     â”‚
                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                           â”‚ 2h ago              â”‚
                           â”‚ ä¿®å¤ç™»å½•Bug         â”‚
                           â”‚ claude-sonnet-4     â”‚
                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                           â”‚ View All History    â”‚
                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ§ª æµ‹è¯•åŠŸèƒ½

#### æµ‹è¯•1ï¼šå¤šæ ‡ç­¾åˆ‡æ¢
1. å¼€å§‹ä¸€ä¸ªæ–°å¯¹è¯ï¼š"å¸®æˆ‘å†™ä¸€ä¸ªå‡½æ•°"
2. ç­‰å¾…AIå›å¤
3. ç‚¹å‡»"+"æŒ‰é’®åˆ›å»ºæ–°å¯¹è¯
4. è¾“å…¥å¦ä¸€ä¸ªä»»åŠ¡ï¼š"å¸®æˆ‘reviewä»£ç "
5. åº”è¯¥çœ‹åˆ°ä¸¤ä¸ªæ ‡ç­¾
6. ç‚¹å‡»ç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼Œåº”è¯¥èƒ½åˆ‡æ¢å›ç¬¬ä¸€ä¸ªå¯¹è¯

#### æµ‹è¯•2ï¼šå†å²ä¸‹æ‹‰èœå•
1. å®Œæˆå‡ ä¸ªå¯¹è¯ä»»åŠ¡
2. ç‚¹å‡»å³ä¸Šè§’çš„HistoryæŒ‰é’®ï¼ˆæ—¶é’Ÿå›¾æ ‡ï¼‰
3. åº”è¯¥çœ‹åˆ°ä¸‹æ‹‰èœå•æ˜¾ç¤ºæœ€è¿‘çš„å¯¹è¯
4. ç‚¹å‡»ä»»æ„ä¸€æ¡å†å²è®°å½•
5. åº”è¯¥åŠ è½½è¯¥å†å²å¯¹è¯

#### æµ‹è¯•3ï¼šå…³é—­æ ‡ç­¾
1. åœ¨å½“å‰æ´»åŠ¨æ ‡ç­¾ä¸Šhover
2. åº”è¯¥çœ‹åˆ°XæŒ‰é’®å‡ºç°
3. ç‚¹å‡»XæŒ‰é’®
4. åº”è¯¥æ¸…ç©ºå½“å‰å¯¹è¯ï¼Œå‡†å¤‡å¼€å§‹æ–°å¯¹è¯

### ğŸ” å¦‚æœé‡åˆ°é—®é¢˜

#### é—®é¢˜1ï¼šçœ‹ä¸åˆ°TabBar
**æ£€æŸ¥**ï¼š
- Consoleä¸­æ˜¯å¦æœ‰é”™è¯¯ï¼Ÿ
- æ˜¯å¦å®Œå…¨é‡å¯äº†VSCodeï¼Ÿ
- æ„å»ºæ˜¯å¦æˆåŠŸï¼Ÿ

**è§£å†³**ï¼š
```powershell
# å¼ºåˆ¶æ¸…ç†ç¼“å­˜
cd D:\xroting\avlog\genRTL\cline\webview-ui
rm -rf build
rm -rf node_modules\.vite
rm -rf node_modules\.cache
npm run build
```

#### é—®é¢˜2ï¼šHistoryæŒ‰é’®æ²¡ååº”
**æ£€æŸ¥**ï¼š
- ç‚¹å‡»åConsoleæ˜¯å¦æœ‰é”™è¯¯ï¼Ÿ
- `taskHistory`æ˜¯å¦æœ‰æ•°æ®ï¼Ÿ

**è°ƒè¯•**ï¼š
æ‰“å¼€Developer Toolsï¼Œåœ¨Consoleè¾“å…¥ï¼š
```javascript
// æ£€æŸ¥æ˜¯å¦æœ‰å†å²æ•°æ®
window.extensionState?.taskHistory
```

#### é—®é¢˜3ï¼šæ ‡ç­¾åç§°ä¸æ­£ç¡®
**è¯´æ˜**ï¼š
æ ‡ç­¾åç§°æ˜¯ä»ä»»åŠ¡æ–‡æœ¬çš„ç¬¬ä¸€è¡Œæå–çš„ã€‚å¦‚æœä»»åŠ¡æ–‡æœ¬ä¸ºç©ºæˆ–æ ¼å¼ç‰¹æ®Šï¼Œå¯èƒ½æ˜¾ç¤º"New Task"ã€‚

è¿™æ˜¯æ­£å¸¸çš„fallbackè¡Œä¸ºã€‚

### ğŸ“Š åŠŸèƒ½ç»†èŠ‚

#### æ ‡ç­¾æ ‡é¢˜ç”Ÿæˆé€»è¾‘
```typescript
// ä»ä»»åŠ¡æ–‡æœ¬æå–ç¬¬ä¸€è¡Œä½œä¸ºæ ‡é¢˜
// ç§»é™¤markdownç¬¦å·ï¼ˆ#, *, -, >ï¼‰
// é™åˆ¶æœ€å¤§é•¿åº¦40å­—ç¬¦
// ç¤ºä¾‹ï¼š
"# å¸®æˆ‘ä¼˜åŒ–UIç•Œé¢" â†’ "å¸®æˆ‘ä¼˜åŒ–UIç•Œé¢"
"* ä¿®å¤ç™»å½•Bug\nè¯¦ç»†è¯´æ˜..." â†’ "ä¿®å¤ç™»å½•Bug"
```

#### ä»»åŠ¡åˆ‡æ¢æœºåˆ¶
```typescript
// ä½¿ç”¨gRPCè°ƒç”¨
TaskServiceClient.showTaskWithId(taskId)
// åç«¯ä¼šåŠ è½½è¯¥ä»»åŠ¡çš„æ‰€æœ‰æ¶ˆæ¯å¹¶æ›´æ–°UI
```

#### å†å²æ•°æ®æ¥æº
```typescript
// æ¥è‡ªExtensionState
const { taskHistory } = useExtensionState()
// taskHistoryæ˜¯ä¸€ä¸ªæ•°ç»„ï¼š
// [
//   { id: "123", task: "ä»»åŠ¡æè¿°", ts: æ—¶é—´æˆ³, isFavorited: false, modelId: "claude-sonnet-4" },
//   ...
// ]
```

### ğŸ¯ ä¸åŸéœ€æ±‚å¯¹æ¯”

| éœ€æ±‚ | çŠ¶æ€ | å®ç°ä½ç½® |
|------|------|---------|
| Maximize genRTL AI size | âœ… å·²å®Œæˆ | package.json |
| New chatåŠŸèƒ½æŒ‰é’® | âœ… å·²å®Œæˆ | ChatTabBar (+ æŒ‰é’®) |
| å¤šé¡µé¢æ˜¾ç¤ºï¼ˆtabsï¼‰ | âœ… å·²å®Œæˆ | ChatTabBar |
| å†å²å¯¹è¯æŸ¥è¯¢å’Œé€‰æ‹© | âœ… å·²å®Œæˆ | HistoryDropdown |

### ğŸ“ ä»£ç ä½ç½®

**æ–°å»ºæ–‡ä»¶**ï¼š
- `cline/webview-ui/src/pages/gui/ChatTabBar.tsx` (230è¡Œ)
- `cline/webview-ui/src/pages/gui/HistoryDropdown.tsx` (260è¡Œ)

**ä¿®æ”¹æ–‡ä»¶**ï¼š
- `cline/webview-ui/src/pages/gui/Chat.tsx` (æ·»åŠ äº†Headerå’Œå¯¼å…¥)

**æœªä½¿ç”¨çš„æ–‡ä»¶**ï¼ˆæ—§æ¶æ„ï¼Œå¯ä»¥åˆ é™¤ï¼‰ï¼š
- `cline/webview-ui/src/components/chat/ChatTabBar.tsx`
- `cline/webview-ui/src/components/chat/HistoryDropdown.tsx`

### ğŸš€ ä¸‹ä¸€æ­¥å¯é€‰ä¼˜åŒ–

å¦‚æœä½ æƒ³è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå¯ä»¥è€ƒè™‘ï¼š

1. **æ ‡ç­¾æ‹–æ‹½æ’åº**ï¼šå…è®¸ç”¨æˆ·æ‹–åŠ¨æ ‡ç­¾æ”¹å˜é¡ºåº
2. **æ ‡ç­¾å›ºå®š**ï¼šå…è®¸å›ºå®šæŸäº›é‡è¦ä»»åŠ¡
3. **æ ‡ç­¾æœç´¢**ï¼šåœ¨Historyä¸‹æ‹‰èœå•ä¸­æ·»åŠ æœç´¢æ¡†
4. **å¿«æ·é”®**ï¼šCtrl+Tabåˆ‡æ¢æ ‡ç­¾
5. **æ ‡ç­¾å³é”®èœå•**ï¼šåˆ é™¤ã€é‡å‘½åã€æ”¶è—ç­‰æ“ä½œ

è¿™äº›åŠŸèƒ½å¯ä»¥åç»­æ ¹æ®éœ€è¦æ·»åŠ ã€‚

### âœ… å®Œæˆï¼

ç°åœ¨è¯·é‡æ–°æ„å»ºå¹¶æµ‹è¯•ï¼Œå¦‚æœæœ‰ä»»ä½•é—®é¢˜è¯·å‘Šè¯‰æˆ‘ï¼

